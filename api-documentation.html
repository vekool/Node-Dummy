<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - Node Dummy Project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .code-block-header {
            background-color: #f8f9fa;
            padding: 0.5rem 1rem;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .copy-btn {
            font-size: 0.875rem;
            padding: 0.25rem 0.75rem;
        }
        .code-wrapper {
            position: relative;
            border: 1px solid #dee2e6;
            border-radius: 0.25rem;
            margin-bottom: 1rem;
        }
        .code-content {
            margin: 0;
            border-radius: 0;
        }
        .nav-pills .nav-link {
            cursor: pointer;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container">
            <span class="navbar-brand mb-0 h1">Node Dummy API Documentation</span>
        </div>
    </nav>

    <div class="container my-5">
        <div class="row">
            <div class="col-md-12">
                <h1 class="mb-4">API Documentation</h1>
                <p class="lead">Mock API server with JWT authentication for testing purposes.</p>
                
                <div class="alert alert-info" role="alert">
                    <strong>Base URL:</strong> <code>http://localhost:3000</code>
                </div>

                <hr class="my-5">

                <!-- Authentication Section -->
                <section id="authentication" class="mb-5">
                    <h2 class="mb-3">Authentication</h2>
                    <p>This API uses JWT (JSON Web Tokens) for authentication. Protected routes require a valid JWT token in the Authorization header.</p>
                    <div class="card bg-light">
                        <div class="card-body">
                            <h6>Header Format:</h6>
                            <code>Authorization: Bearer &lt;your_jwt_token&gt;</code>
                        </div>
                    </div>
                </section>

                <!-- Endpoints -->
                <section id="endpoints">
                    <h2 class="mb-4">Endpoints</h2>

                    <!-- Login Endpoint -->
                    <div class="card mb-4">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0">
                                <span class="badge bg-dark">POST</span> /login
                            </h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">Mock login endpoint that returns a random username and JWT token.</p>
                            
                            <h5 class="mt-3">Access</h5>
                            <p><span class="badge bg-info">Public</span></p>

                            <h5 class="mt-3">Request</h5>
                            <p>No request body required.</p>

                            <h5 class="mt-3">Response</h5>
                            <div class="code-wrapper">
                                <div class="code-block-header">
                                    <span><strong>Response</strong></span>
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'login-response')">
                                        ðŸ“‹ Copy
                                    </button>
                                </div>
                                <div class="bg-light p-3 code-content">
                                    <pre class="mb-0" id="login-response"><code>{
  "success": true,
  "username": "Alice Johnson",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}</code></pre>
                                </div>
                            </div>

                            <h5 class="mt-3">Code Examples</h5>
                            <ul class="nav nav-pills mb-3" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#login-curl" type="button">cURL</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" data-bs-toggle="pill" data-bs-target="#login-axios" type="button">Axios (React Native)</button>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="login-curl">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>cURL</strong></span>
                                            <button class="btn btn-sm btn-outline-light copy-btn" onclick="copyToClipboard(this, 'login-curl-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-dark text-light p-3 code-content">
                                            <pre class="mb-0 text-light" id="login-curl-code"><code>curl -X POST http://localhost:3000/login</code></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="login-axios">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>Axios (React Native)</strong></span>
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'login-axios-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-light p-3 code-content">
                                            <pre class="mb-0" id="login-axios-code"><code>import axios from 'axios';

// Login function
const login = async () => {
  try {
    const response = await axios.post('http://localhost:3000/login');
    
    console.log('Success:', response.data.success);
    console.log('Username:', response.data.username);
    console.log('Token:', response.data.token);
    
    // Store token for future requests
    // In React Native, you might use AsyncStorage
    // await AsyncStorage.setItem('authToken', response.data.token);
    
    return response.data;
  } catch (error) {
    console.error('Login error:', error.response?.data || error.message);
    throw error;
  }
};</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h5 class="mt-3">Notes</h5>
                            <ul>
                                <li>Returns a random name from a pool of 10 predefined names</li>
                                <li>JWT token expires in 1 hour</li>
                                <li>Available names: Alice Johnson, Bob Smith, Charlie Brown, Diana Prince, Ethan Hunt, Fiona Green, George Wilson, Hannah Lee, Ivan Torres, Julia Martinez</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Register Endpoint -->
                    <div class="card mb-4">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0">
                                <span class="badge bg-dark">POST</span> /register
                            </h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">Mock registration endpoint that returns success without actually registering.</p>
                            
                            <h5 class="mt-3">Access</h5>
                            <p><span class="badge bg-info">Public</span></p>

                            <h5 class="mt-3">Request</h5>
                            <p>Request body is not processed (optional).</p>

                            <h5 class="mt-3">Response</h5>
                            <div class="code-wrapper">
                                <div class="code-block-header">
                                    <span><strong>Response</strong></span>
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'register-response')">
                                        ðŸ“‹ Copy
                                    </button>
                                </div>
                                <div class="bg-light p-3 code-content">
                                    <pre class="mb-0" id="register-response"><code>{
  "success": true,
  "message": "Registration successful"
}</code></pre>
                                </div>
                            </div>

                            <h5 class="mt-3">Code Examples</h5>
                            <ul class="nav nav-pills mb-3" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#register-curl" type="button">cURL</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" data-bs-toggle="pill" data-bs-target="#register-axios" type="button">Axios (React Native)</button>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="register-curl">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>cURL</strong></span>
                                            <button class="btn btn-sm btn-outline-light copy-btn" onclick="copyToClipboard(this, 'register-curl-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-dark text-light p-3 code-content">
                                            <pre class="mb-0 text-light" id="register-curl-code"><code>curl -X POST http://localhost:3000/register</code></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="register-axios">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>Axios (React Native)</strong></span>
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'register-axios-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-light p-3 code-content">
                                            <pre class="mb-0" id="register-axios-code"><code>import axios from 'axios';

// Register function
const register = async (userData) => {
  try {
    const response = await axios.post('http://localhost:3000/register', userData);
    
    console.log('Success:', response.data.success);
    console.log('Message:', response.data.message);
    
    return response.data;
  } catch (error) {
    console.error('Registration error:', error.response?.data || error.message);
    throw error;
  }
};</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h5 class="mt-3">Notes</h5>
                            <ul>
                                <li>This is a mock endpoint - no actual registration occurs</li>
                                <li>Always returns success regardless of input</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Profile Endpoint -->
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0">
                                <span class="badge bg-dark">GET</span> /profile
                            </h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">Get user profile information.</p>
                            
                            <h5 class="mt-3">Access</h5>
                            <p><span class="badge bg-warning text-dark">Private</span> - Requires JWT authentication</p>

                            <h5 class="mt-3">Headers</h5>
                            <div class="bg-light p-3 rounded">
                                <code>Authorization: Bearer &lt;jwt_token&gt;</code>
                            </div>

                            <h5 class="mt-3">Response</h5>
                            <div class="code-wrapper">
                                <div class="code-block-header">
                                    <span><strong>Response</strong></span>
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'profile-response')">
                                        ðŸ“‹ Copy
                                    </button>
                                </div>
                                <div class="bg-light p-3 code-content">
                                    <pre class="mb-0" id="profile-response"><code>{
  "success": true,
  "profile": {
    "username": "Alice Johnson",
    "email": "alice.johnson@example.com",
    "joined": "2024-01-15",
    "bio": "This is a dummy profile for testing purposes",
    "posts": 42,
    "followers": 128,
    "following": 95
  }
}</code></pre>
                                </div>
                            </div>

                            <h5 class="mt-3">Code Examples</h5>
                            <ul class="nav nav-pills mb-3" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#profile-curl" type="button">cURL</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" data-bs-toggle="pill" data-bs-target="#profile-axios" type="button">Axios (React Native)</button>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="profile-curl">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>cURL</strong></span>
                                            <button class="btn btn-sm btn-outline-light copy-btn" onclick="copyToClipboard(this, 'profile-curl-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-dark text-light p-3 code-content">
                                            <pre class="mb-0 text-light" id="profile-curl-code"><code>curl -X GET http://localhost:3000/profile -H "Authorization: Bearer YOUR_TOKEN_HERE"</code></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="profile-axios">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>Axios (React Native)</strong></span>
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'profile-axios-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-light p-3 code-content">
                                            <pre class="mb-0" id="profile-axios-code"><code>import axios from 'axios';

// Get Profile function
const getProfile = async (token) => {
  try {
    const response = await axios.get('http://localhost:3000/profile', {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    
    console.log('Profile:', response.data.profile);
    
    return response.data;
  } catch (error) {
    if (error.response?.status === 401) {
      console.error('Unauthorized: Token required');
    } else if (error.response?.status === 403) {
      console.error('Forbidden: Invalid or expired token');
    } else {
      console.error('Profile error:', error.response?.data || error.message);
    }
    throw error;
  }
};

// Example usage with stored token
// const token = await AsyncStorage.getItem('authToken');
// await getProfile(token);</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h5 class="mt-3">Error Responses</h5>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Status Code</th>
                                            <th>Response</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><span class="badge bg-danger">401</span></td>
                                            <td><code>{"error": "Access token required"}</code></td>
                                            <td>No token provided</td>
                                        </tr>
                                        <tr>
                                            <td><span class="badge bg-danger">403</span></td>
                                            <td><code>{"error": "Invalid or expired token"}</code></td>
                                            <td>Token is invalid or expired</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h5 class="mt-3">Notes</h5>
                            <ul>
                                <li>Returns dummy profile data based on the authenticated user</li>
                                <li>Email is generated from the username</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Logout Endpoint -->
                    <div class="card mb-4">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0">
                                <span class="badge bg-dark">POST</span> /logout
                            </h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">Logout endpoint that instructs client to clear JWT token.</p>
                            
                            <h5 class="mt-3">Access</h5>
                            <p><span class="badge bg-info">Public</span></p>

                            <h5 class="mt-3">Request</h5>
                            <p>No request body required.</p>

                            <h5 class="mt-3">Response</h5>
                            <div class="code-wrapper">
                                <div class="code-block-header">
                                    <span><strong>Response</strong></span>
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'logout-response')">
                                        ðŸ“‹ Copy
                                    </button>
                                </div>
                                <div class="bg-light p-3 code-content">
                                    <pre class="mb-0" id="logout-response"><code>{
  "success": true,
  "message": "Logout successful. Please clear the token on client side."
}</code></pre>
                                </div>
                            </div>

                            <h5 class="mt-3">Code Examples</h5>
                            <ul class="nav nav-pills mb-3" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#logout-curl" type="button">cURL</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" data-bs-toggle="pill" data-bs-target="#logout-axios" type="button">Axios (React Native)</button>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="logout-curl">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>cURL</strong></span>
                                            <button class="btn btn-sm btn-outline-light copy-btn" onclick="copyToClipboard(this, 'logout-curl-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-dark text-light p-3 code-content">
                                            <pre class="mb-0 text-light" id="logout-curl-code"><code>curl -X POST http://localhost:3000/logout</code></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="logout-axios">
                                    <div class="code-wrapper">
                                        <div class="code-block-header">
                                            <span><strong>Axios (React Native)</strong></span>
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard(this, 'logout-axios-code')">
                                                ðŸ“‹ Copy
                                            </button>
                                        </div>
                                        <div class="bg-light p-3 code-content">
                                            <pre class="mb-0" id="logout-axios-code"><code>import axios from 'axios';

// Logout function
const logout = async () => {
  try {
    const response = await axios.post('http://localhost:3000/logout');
    
    console.log('Message:', response.data.message);
    
    // Clear stored token
    // In React Native with AsyncStorage:
    // await AsyncStorage.removeItem('authToken');
    
    return response.data;
  } catch (error) {
    console.error('Logout error:', error.response?.data || error.message);
    throw error;
  }
};</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h5 class="mt-3">Notes</h5>
                            <ul>
                                <li>This endpoint does not invalidate the token server-side</li>
                                <li>The client is responsible for clearing/removing the token</li>
                                <li>Token will remain valid until expiration (1 hour from issuance)</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Common Response Codes -->
                <section id="response-codes" class="mb-5">
                    <h2 class="mb-3">Common Response Codes</h2>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Status Code</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="badge bg-success">200</span></td>
                                    <td>Success - Request completed successfully</td>
                                </tr>
                                <tr>
                                    <td><span class="badge bg-danger">401</span></td>
                                    <td>Unauthorized - Authentication required</td>
                                </tr>
                                <tr>
                                    <td><span class="badge bg-danger">403</span></td>
                                    <td>Forbidden - Invalid or expired token</td>
                                </tr>
                                <tr>
                                    <td><span class="badge bg-danger">500</span></td>
                                    <td>Internal Server Error - Something went wrong</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Getting Started -->
                <section id="getting-started" class="mb-5">
                    <h2 class="mb-3">Getting Started</h2>
                    <div class="card">
                        <div class="card-body">
                            <h5>Quick Start Guide</h5>
                            <ol>
                                <li><strong>Start the server:</strong> <code>npm start</code> or <code>node server.js</code></li>
                                <li><strong>Login to get a token:</strong> Make a POST request to <code>/login</code></li>
                                <li><strong>Access protected routes:</strong> Use the received token in the Authorization header</li>
                                <li><strong>Test profile endpoint:</strong> Include the Bearer token to access <code>/profile</code></li>
                            </ol>

                            <h5 class="mt-4">Example Flow</h5>
                            <pre class="bg-light p-3 rounded"><code># 1. Login and get token
curl -X POST http://localhost:3000/login

# 2. Use token to access profile (replace TOKEN with actual token from step 1)
curl -X GET http://localhost:3000/profile \
  -H "Authorization: Bearer TOKEN"

# 3. Logout
curl -X POST http://localhost:3000/logout</code></pre>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-4 mt-5">
        <div class="container">
            <p class="mb-0">&copy; 2025 Node Dummy API - Mock API for Testing Purposes</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Copy to clipboard functionality
        function copyToClipboard(button, elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            // Create temporary textarea
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            
            // Select and copy
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            // Change button text temporarily
            const originalText = button.innerHTML;
            button.innerHTML = 'âœ“ Copied!';
            button.classList.remove('btn-outline-secondary', 'btn-outline-light');
            button.classList.add('btn-success');
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.classList.remove('btn-success');
                if (button.closest('.bg-dark')) {
                    button.classList.add('btn-outline-light');
                } else {
                    button.classList.add('btn-outline-secondary');
                }
            }, 2000);
        }
    </script>
</body>
</html>
